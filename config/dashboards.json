{"dashboards": [{"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "editable": true, "gnetId": null, "graphTooltip": 0, "id": 1, "iteration": 1633312935639, "links": [{"asDropdown": false, "icon": "external link", "includeVars": false, "keepTime": false, "tags": [], "targetBlank": true, "title": "Grafana Playground GitHub Page", "tooltip": "", "type": "link", "url": "https://github.com/dmuth/grafana-playground"}], "panels": [{"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "axisSoftMin": 0, "barAlignment": 0, "drawStyle": "line", "fillOpacity": 100, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "normal"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "percent"}, "overrides": []}, "gridPos": {"h": 9, "w": 24, "x": 0, "y": 0}, "id": 2, "options": {"legend": {"calcs": ["min", "max", "mean", "lastNotNull", "last"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "cpu_usage_user{host=\"telegraf\", cpu=\"cpu-total\"}\n", "interval": "", "legendFormat": "{{host}} - CPU User", "refId": "A"}, {"exemplar": true, "expr": "cpu_usage_system{cpu=\"cpu-total\"}", "hide": false, "interval": "", "legendFormat": "{{host}} - CPU System", "refId": "B"}, {"exemplar": true, "expr": "cpu_usage_guest{cpu=\"cpu-total\"}", "hide": false, "interval": "", "legendFormat": "{{host}} - CPU Guest", "refId": "C"}, {"exemplar": true, "expr": "cpu_usage_idle{cpu=\"cpu-total\"}", "hide": true, "interval": "", "legendFormat": "{{host}} - CPU Idle", "refId": "D"}, {"exemplar": true, "expr": "cpu_usage_iowait{cpu=\"cpu-total\"}", "hide": false, "interval": "", "legendFormat": "{{host}} - CPU iowait", "refId": "E"}], "title": "CPU Usage", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "axisSoftMin": 0, "barAlignment": 0, "drawStyle": "line", "fillOpacity": 76, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "normal"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "decbytes"}, "overrides": []}, "gridPos": {"h": 8, "w": 12, "x": 0, "y": 9}, "id": 6, "options": {"legend": {"calcs": ["min", "max", "mean", "lastNotNull", "last"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "mem_active{host=\"telegraf\"}", "interval": "", "legendFormat": "Active - {{host}}", "refId": "A"}, {"exemplar": true, "expr": "mem_cached{host=\"telegraf\"}", "hide": false, "interval": "", "legendFormat": "Cached - {{host}}", "refId": "B"}, {"exemplar": true, "expr": "mem_shared{host=\"telegraf\"}", "hide": false, "interval": "", "legendFormat": "Shared - {{host}}", "refId": "C"}, {"hide": false, "refId": "D"}, {"hide": false, "refId": "E"}], "title": "RAM Usage", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "axisSoftMin": 0, "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "decbytes"}, "overrides": []}, "gridPos": {"h": 8, "w": 12, "x": 12, "y": 9}, "id": 4, "options": {"legend": {"calcs": ["min", "max", "mean", "lastNotNull", "last"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "mem_available{host=\"telegraf\"}", "interval": "", "legendFormat": "{{host}}", "refId": "A"}], "title": "RAM Available", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 8, "w": 12, "x": 0, "y": 17}, "id": 8, "options": {"legend": {"calcs": ["min", "max", "mean", "lastNotNull", "last"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "rate(diskio_read_bytes{host=\"telegraf\"}[$interval])", "hide": false, "interval": "", "legendFormat": "Read Bytes - {{name}}", "refId": "A"}], "title": "Disk I/O - Read Bytes", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "none"}, "overrides": []}, "gridPos": {"h": 8, "w": 12, "x": 12, "y": 17}, "id": 9, "options": {"legend": {"calcs": ["min", "max", "mean", "lastNotNull", "last"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "rate(diskio_write_bytes{host=\"telegraf\"}[$interval])", "hide": false, "interval": "", "legendFormat": "Write Bytes - {{name}}", "refId": "A"}], "title": "Disk I/O - Write Bytes", "type": "timeseries"}], "refresh": "5s", "schemaVersion": 30, "style": "dark", "tags": [], "templating": {"list": [{"auto": false, "auto_count": 30, "auto_min": "10s", "current": {"selected": false, "text": "1m", "value": "1m"}, "description": null, "error": null, "hide": 0, "label": "Interval", "name": "interval", "options": [{"selected": true, "text": "1m", "value": "1m"}, {"selected": false, "text": "5m", "value": "5m"}, {"selected": false, "text": "10m", "value": "10m"}, {"selected": false, "text": "15m", "value": "15m"}, {"selected": false, "text": "30m", "value": "30m"}, {"selected": false, "text": "1h", "value": "1h"}, {"selected": false, "text": "6h", "value": "6h"}, {"selected": false, "text": "12h", "value": "12h"}, {"selected": false, "text": "1d", "value": "1d"}, {"selected": false, "text": "7d", "value": "7d"}, {"selected": false, "text": "14d", "value": "14d"}, {"selected": false, "text": "30d", "value": "30d"}], "query": "1m,5m,10m,15m,30m,1h,6h,12h,1d,7d,14d,30d", "queryValue": "", "refresh": 2, "skipUrlSync": false, "type": "interval"}]}, "time": {"from": "now-15m", "to": "now"}, "timepicker": {}, "timezone": "", "title": "Docker Host Stats (Prometheus)", "uid": "xHVqHGv7k", "version": 4}, {"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "editable": true, "gnetId": null, "graphTooltip": 0, "id": 2, "iteration": 1633312936253, "links": [{"asDropdown": false, "icon": "external link", "includeVars": false, "keepTime": false, "tags": [], "targetBlank": true, "title": "Grafana Playground GitHub Page", "tooltip": "", "type": "link", "url": "https://github.com/dmuth/grafana-playground"}], "panels": [{"collapsed": false, "datasource": null, "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0}, "id": 4, "panels": [], "title": "Main", "type": "row"}, {"datasource": null, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "axisSoftMin": 0, "barAlignment": 0, "drawStyle": "bars", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineStyle": {"fill": "solid"}, "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"log": 10, "type": "log"}, "showPoints": "auto", "spanNulls": true, "stacking": {"group": "A", "mode": "normal"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}}, "overrides": []}, "gridPos": {"h": 12, "w": 24, "x": 0, "y": 1}, "id": 10, "interval": null, "maxDataPoints": 1000000, "options": {"legend": {"calcs": ["last", "lastNotNull", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "pluginVersion": "8.1.2", "targets": [{"expr": "sum(count_over_time({host=\"docker-desktop\"}[$interval])) by (compose_service)", "legendFormat": "{{compose_service}}", "refId": "A"}], "title": "Volume by file ($interval interval)", "type": "timeseries"}, {"datasource": null, "gridPos": {"h": 5, "w": 24, "x": 0, "y": 13}, "id": 12, "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": false, "showTime": false, "sortOrder": "Descending", "wrapLogMessage": true}, "pluginVersion": "8.1.2", "targets": [{"expr": "{host=\"docker-desktop\", compose_service=\"grafana\"}", "maxLines": 100, "refId": "A"}], "title": "100 Most Recent Log Entries for \"grafana\" Container", "type": "logs"}, {"datasource": null, "gridPos": {"h": 5, "w": 24, "x": 0, "y": 18}, "id": 6, "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": false, "showTime": false, "sortOrder": "Descending", "wrapLogMessage": true}, "pluginVersion": "8.1.2", "targets": [{"expr": "{host=\"docker-desktop\", compose_service=\"logs\"}", "maxLines": 100, "refId": "A"}], "title": "100 Most Recent Log Entries for \"logs\" Container", "type": "logs"}, {"datasource": null, "gridPos": {"h": 5, "w": 24, "x": 0, "y": 23}, "id": 13, "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": false, "showTime": false, "sortOrder": "Descending", "wrapLogMessage": true}, "pluginVersion": "8.1.2", "targets": [{"expr": "{host=\"docker-desktop\", compose_service=\"loki\"}", "maxLines": 100, "refId": "A"}], "title": "100 Most Recent Log Entries for \"loki\" Container", "type": "logs"}, {"datasource": null, "gridPos": {"h": 5, "w": 24, "x": 0, "y": 28}, "id": 11, "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": false, "showTime": false, "sortOrder": "Descending", "wrapLogMessage": true}, "pluginVersion": "8.1.2", "targets": [{"expr": "{host=\"docker-desktop\", compose_service=\"promtail\"}", "maxLines": 100, "refId": "A"}], "title": "100 Most Recent Log Entries for \"promtail\" Container", "type": "logs"}, {"datasource": null, "gridPos": {"h": 10, "w": 24, "x": 0, "y": 33}, "id": 7, "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": false, "showTime": false, "sortOrder": "Descending", "wrapLogMessage": true}, "pluginVersion": "8.1.2", "targets": [{"expr": "{host=\"docker-desktop\"}", "maxLines": 100, "refId": "A"}], "title": "100 Most Recent Log Entries for All Containers", "type": "logs"}], "refresh": "5s", "schemaVersion": 30, "style": "dark", "tags": [], "templating": {"list": [{"auto": false, "auto_count": 30, "auto_min": "10s", "current": {"selected": false, "text": "1m", "value": "1m"}, "description": null, "error": null, "hide": 0, "label": null, "name": "interval", "options": [{"selected": false, "text": "10s", "value": "10s"}, {"selected": false, "text": "30s", "value": "30s"}, {"selected": true, "text": "1m", "value": "1m"}, {"selected": false, "text": "10m", "value": "10m"}, {"selected": false, "text": "30m", "value": "30m"}, {"selected": false, "text": "1h", "value": "1h"}, {"selected": false, "text": "6h", "value": "6h"}, {"selected": false, "text": "12h", "value": "12h"}, {"selected": false, "text": "1d", "value": "1d"}, {"selected": false, "text": "7d", "value": "7d"}, {"selected": false, "text": "14d", "value": "14d"}, {"selected": false, "text": "30d", "value": "30d"}], "query": "10s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d", "queryValue": "", "refresh": 2, "skipUrlSync": false, "type": "interval"}]}, "time": {"from": "now-15m", "to": "now"}, "timepicker": {}, "timezone": "", "title": "Docker Logs", "uid": "RQVYi6V7k", "version": 4}, {"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "editable": true, "gnetId": null, "graphTooltip": 0, "id": 3, "iteration": 1633312936919, "links": [{"asDropdown": false, "icon": "external link", "includeVars": false, "keepTime": false, "tags": [], "targetBlank": true, "title": "Grafana Playground GitHub Page", "tooltip": "", "type": "link", "url": "https://github.com/dmuth/grafana-playground"}], "panels": [{"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 0}, "id": 2, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "mean", "max"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "increase(log_messages_total{job=\"loki\"}[$interval])", "interval": "", "legendFormat": "{{level}}", "refId": "A"}], "title": "Log Messages", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 0}, "id": 3, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "mean", "max"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "delta(loki_request_duration_seconds_count{route=\"loki_api_v1_push\"}[$interval])", "interval": "", "legendFormat": "Route: {{route}} - {{status_code}}", "refId": "A"}], "title": "Number of Recevied Requests", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 9}, "id": 4, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "mean", "max"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "delta(loki_distributor_bytes_received_total{job=\"loki\"}[$interval])", "interval": "", "legendFormat": "Bytes", "refId": "A"}], "title": "Bytes Received", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 9}, "id": 5, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "mean", "max"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "delta(loki_distributor_lines_received_total{job=\"loki\"}[$interval])", "interval": "", "legendFormat": "Lines", "refId": "A"}], "title": "Lines Received", "type": "timeseries"}], "refresh": "5s", "schemaVersion": 30, "style": "dark", "tags": [], "templating": {"list": [{"auto": false, "auto_count": 30, "auto_min": "10s", "current": {"selected": false, "text": "1m", "value": "1m"}, "description": null, "error": null, "hide": 0, "label": null, "name": "interval", "options": [{"selected": true, "text": "1m", "value": "1m"}, {"selected": false, "text": "5m", "value": "5m"}, {"selected": false, "text": "10m", "value": "10m"}, {"selected": false, "text": "15m", "value": "15m"}, {"selected": false, "text": "30m", "value": "30m"}, {"selected": false, "text": "1h", "value": "1h"}, {"selected": false, "text": "6h", "value": "6h"}, {"selected": false, "text": "12h", "value": "12h"}, {"selected": false, "text": "1d", "value": "1d"}, {"selected": false, "text": "7d", "value": "7d"}, {"selected": false, "text": "14d", "value": "14d"}, {"selected": false, "text": "30d", "value": "30d"}], "query": "1m,5m,10m,15m,30m,1h,6h,12h,1d,7d,14d,30d", "queryValue": "", "refresh": 2, "skipUrlSync": false, "type": "interval"}]}, "time": {"from": "now-5m", "to": "now"}, "timepicker": {}, "timezone": "", "title": "Loki Stats", "uid": "ZDiuJmN7k", "version": 4}, {"annotations": {"list": [{"builtIn": 1, "datasource": {"type": "datasource", "uid": "grafana"}, "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "editable": true, "fiscalYearStartMonth": 0, "graphTooltip": 0, "id": 4, "links": [{"asDropdown": false, "icon": "external link", "includeVars": false, "keepTime": false, "tags": [], "targetBlank": true, "title": "Grafana Playground GitHub Page", "tooltip": "", "type": "link", "url": "https://github.com/dmuth/grafana-playground"}, {"asDropdown": false, "icon": "dashboard", "includeVars": true, "keepTime": true, "tags": [], "targetBlank": false, "title": "Ping Results - Internal vs External", "tooltip": "", "type": "link", "url": "/d/KfLZ8yvVk/"}], "liveNow": false, "panels": [{"datasource": {}, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "ms", "axisPlacement": "auto", "axisSoftMin": 0, "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 14, "w": 23, "x": 0, "y": 0}, "id": 2, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": {"type": "loki", "uid": "RFdn8Qtnz"}, "editorMode": "code", "expr": "avg(avg_over_time(\n{host=~\".+\", host=\"docker\", filename=~\"/logs/ping/.*\", target!=\"\" } \n|= \"time=\"\n| regexp \"target=(?P<target>[^ ]+)\"\n| regexp \"time=(?P<time>[^ ]+)\"\n| unwrap time\n[$interval]\n)) by (target)\n\n", "legendFormat": "{{target}}", "queryType": "range", "refId": "A"}], "title": "Ping Times ($interval interval)", "type": "timeseries"}, {"datasource": {}, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "% packet loss", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "max": 100, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 11, "w": 23, "x": 0, "y": 14}, "id": 4, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": {"type": "loki", "uid": "RFdn8Qtnz"}, "editorMode": "code", "expr": "avg(avg_over_time(\n{ filename=~\"/logs/ping/.*\", target!=\"\", target!~\"internal-.*\" } \n|= \"transmitted\"\n| logfmt \n| line_format \"pct={{divf .received .transmitted | mulf 100 | sub 100 }}\"\n| logfmt \n| unwrap pct\n| __error__!=\"SampleExtractionErr\"\n[$interval]\n)) \n\n", "legendFormat": "{{target}}", "queryType": "range", "refId": "A"}], "title": "Packet Loss - External Hosts ($interval interval)", "type": "timeseries"}, {"datasource": {}, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "% packet loss", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "max": 100, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 14, "w": 23, "x": 0, "y": 25}, "id": 3, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": {"type": "loki", "uid": "RFdn8Qtnz"}, "editorMode": "code", "expr": "avg(avg_over_time(\n{ filename=~\"/logs/ping/.*\", target != \"\", target!~\"internal-.*\" } \n|= \"transmitted\"\n| logfmt \n| line_format \"pct={{divf .received .transmitted | mulf 100 | sub 100 }}\"\n| logfmt \n| unwrap pct\n| __error__!=\"SampleExtractionErr\"\n[$interval]\n)) by (target)\n\n", "legendFormat": "{{target}}", "queryType": "range", "refId": "A"}], "title": "Packet Loss by Host - External Hosts ($interval interval)", "type": "timeseries"}, {"datasource": {}, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "% packet loss", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "max": 100, "thresholds": {"mode": "absolute", "steps": [{"color": "green"}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 14, "w": 23, "x": 0, "y": 39}, "id": 5, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": {"type": "loki", "uid": "RFdn8Qtnz"}, "editorMode": "code", "expr": "avg(avg_over_time(\n{ filename=~\"/logs/ping/.*\", target != \"\", target=~\"internal-.*\" } \n|= \"transmitted\"\n| logfmt \n| line_format \"pct={{divf .received .transmitted | mulf 100 | sub 100 }}\"\n| logfmt \n| unwrap pct\n| __error__!=\"SampleExtractionErr\"\n[$interval]\n)) by (target)\n\n", "legendFormat": "{{target}}", "queryType": "range", "refId": "A"}], "title": "Packet Loss by Host - Internal Host ($interval interval)", "type": "timeseries"}], "refresh": "5s", "schemaVersion": 37, "style": "dark", "tags": [], "templating": {"list": [{"auto": false, "auto_count": 30, "auto_min": "10s", "current": {"selected": false, "text": "10s", "value": "10s"}, "hide": 0, "name": "interval", "options": [{"selected": true, "text": "10s", "value": "10s"}, {"selected": false, "text": "30s", "value": "30s"}, {"selected": false, "text": "1m", "value": "1m"}, {"selected": false, "text": "5m", "value": "5m"}, {"selected": false, "text": "15m", "value": "15m"}, {"selected": false, "text": "30m", "value": "30m"}, {"selected": false, "text": "1h", "value": "1h"}, {"selected": false, "text": "6h", "value": "6h"}, {"selected": false, "text": "12h", "value": "12h"}, {"selected": false, "text": "1d", "value": "1d"}, {"selected": false, "text": "7d", "value": "7d"}, {"selected": false, "text": "14d", "value": "14d"}, {"selected": false, "text": "30d", "value": "30d"}], "query": "10s,30s,1m,5m,15m,30m,1h,6h,12h,1d,7d,14d,30d", "queryValue": "", "refresh": 2, "skipUrlSync": false, "type": "interval"}]}, "time": {"from": "now-15m", "to": "now"}, "timepicker": {"refresh_intervals": ["5s", "10s", "30s", "1m", "5m", "15m", "30m", "1h", "2h", "1d"]}, "timezone": "", "title": "Ping Results", "uid": "WiThvuS7z", "version": 6, "weekStart": ""}, {"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "editable": true, "gnetId": null, "graphTooltip": 0, "id": 5, "iteration": 1634943343834, "links": [], "panels": [{"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 15, "w": 24, "x": 0, "y": 0}, "id": 2, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "rate(ping_sum{type=\"latency\"}[$interval])\n/ rate(ping_count{type=\"latency\"}[$interval])\n", "interval": "", "legendFormat": "{{host}}", "refId": "A"}], "title": "Ping Times ($interval interval)", "type": "timeseries"}, {"datasource": "Prometheus", "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "axisSoftMax": 100, "axisSoftMin": 0, "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 15, "w": 24, "x": 0, "y": 15}, "id": 3, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "rate(ping_sum{type=\"packet_loss\"}[$interval])\n/ rate(ping_count{type=\"packet_loss\"}[$interval])\n", "interval": "", "legendFormat": "{{host}}", "refId": "A"}], "title": "Packet Loss ($interval interval)", "type": "timeseries"}], "refresh": "5s", "schemaVersion": 30, "style": "dark", "tags": [], "templating": {"list": [{"auto": false, "auto_count": 30, "auto_min": "10s", "current": {"selected": false, "text": "15s", "value": "15s"}, "description": null, "error": null, "hide": 0, "label": null, "name": "interval", "options": [{"selected": false, "text": "30s", "value": "30s"}, {"selected": true, "text": "1m", "value": "1m"}, {"selected": false, "text": "5m", "value": "5m"}, {"selected": false, "text": "15m", "value": "15m"}, {"selected": false, "text": "30m", "value": "30m"}, {"selected": false, "text": "1h", "value": "1h"}, {"selected": false, "text": "6h", "value": "6h"}, {"selected": false, "text": "12h", "value": "12h"}, {"selected": false, "text": "1d", "value": "1d"}, {"selected": false, "text": "7d", "value": "7d"}, {"selected": false, "text": "14d", "value": "14d"}, {"selected": false, "text": "30d", "value": "30d"}], "query": "30s,1m,5m,15m,30m,1h,6h,12h,1d,7d,14d,30d", "queryValue": "", "refresh": 2, "skipUrlSync": false, "type": "interval"}]}, "time": {"from": "now-15m", "to": "now"}, "timepicker": {"refresh_intervals": ["5s", "10s", "30s", "1m", "5m", "15m", "30m", "1h", "2h", "1d"]}, "timezone": "", "title": "Ping Results (from Prometheus)", "uid": "WQwTEyd7z", "version": 4}, {"annotations": {"list": [{"builtIn": 1, "datasource": {"type": "datasource", "uid": "grafana"}, "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "editable": true, "fiscalYearStartMonth": 0, "graphTooltip": 0, "id": 9, "links": [{"asDropdown": false, "icon": "external link", "includeVars": false, "keepTime": false, "tags": [], "targetBlank": true, "title": "Grafana Playground GitHub Page", "tooltip": "", "type": "link", "url": "https://github.com/dmuth/grafana-playground"}, {"asDropdown": false, "icon": "dashboard", "includeVars": true, "keepTime": true, "tags": [], "targetBlank": false, "title": "Ping Results", "tooltip": "", "type": "link", "url": "/d/WiThvuS7z/"}], "liveNow": false, "panels": [{"datasource": {}, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "ms", "axisPlacement": "auto", "axisSoftMin": 0, "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 14, "w": 23, "x": 0, "y": 0}, "id": 2, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": {"type": "loki", "uid": "RFdn8Qtnz"}, "editorMode": "code", "expr": "avg(avg_over_time(\n{host=~\".+\", host=\"docker\", filename=~\"/logs/ping/.*\", target!=\"\" } \n|= \"time=\"\n| regexp \"target=(?P<target>[^ ]+)\"\n| regexp \"time=(?P<time>[^ ]+)\"\n| unwrap time\n[$interval]\n)) by (target)\n\n", "legendFormat": "{{target}}", "queryType": "range", "refId": "A"}], "title": "Ping Times ($interval interval)", "type": "timeseries"}, {"datasource": {}, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "% packet loss", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "max": 100, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 11, "w": 11, "x": 0, "y": 14}, "id": 7, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": {"type": "loki", "uid": "RFdn8Qtnz"}, "editorMode": "code", "expr": "avg(avg_over_time(\n{ filename=~\"/logs/ping/.*\", target!=\"\", target!~\"internal-.*\" } \n|= \"transmitted\"\n| logfmt \n| line_format \"pct={{divf .received .transmitted | mulf 100 | sub 100 }}\"\n| logfmt \n| unwrap pct\n| __error__!=\"SampleExtractionErr\"\n[$interval]\n)) \n\n", "legendFormat": "{{target}}", "queryType": "range", "refId": "A"}], "title": "Packet Loss - External Hosts ($interval interval)", "type": "timeseries"}, {"datasource": {"type": "loki", "uid": "ZASTUuvVz"}, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "% packet loss", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "max": 100, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 11, "w": 12, "x": 11, "y": 14}, "id": 8, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": {"type": "loki", "uid": "RFdn8Qtnz"}, "editorMode": "code", "expr": "avg(avg_over_time(\n{ filename=~\"/logs/ping/.*\", target!=\"\", target=~\"internal-.*\" } \n|= \"transmitted\"\n| logfmt \n| line_format \"pct={{divf .received .transmitted | mulf 100 | sub 100 }}\"\n| logfmt \n| unwrap pct\n| __error__!=\"SampleExtractionErr\"\n[$interval]\n)) \n\n", "legendFormat": "{{target}}", "queryType": "range", "refId": "A"}], "title": "Packet Loss - Interal Hosts ($interval interval)", "type": "timeseries"}, {"datasource": {}, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "% packet loss", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "max": 100, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 14, "w": 11, "x": 0, "y": 25}, "id": 3, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": {"type": "loki", "uid": "RFdn8Qtnz"}, "editorMode": "code", "expr": "avg(avg_over_time(\n{ filename=~\"/logs/ping/.*\", target != \"\", target!~\"internal-.*\" } \n|= \"transmitted\"\n| logfmt \n| line_format \"pct={{divf .received .transmitted | mulf 100 | sub 100 }}\"\n| logfmt \n| unwrap pct\n| __error__!=\"SampleExtractionErr\"\n[$interval]\n)) by (target)\n\n", "legendFormat": "{{target}}", "queryType": "range", "refId": "A"}], "title": "Packet Loss by Host - External Hosts ($interval interval)", "type": "timeseries"}, {"datasource": {}, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisCenteredZero": false, "axisColorMode": "text", "axisLabel": "% packet loss", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "max": 100, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 14, "w": 12, "x": 11, "y": 25}, "id": 5, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom", "showLegend": true}, "tooltip": {"mode": "single", "sort": "none"}}, "targets": [{"datasource": {"type": "loki", "uid": "RFdn8Qtnz"}, "editorMode": "code", "expr": "avg(avg_over_time(\n{ filename=~\"/logs/ping/.*\", target != \"\", target=~\"internal-.*\" } \n|= \"transmitted\"\n| logfmt \n| line_format \"pct={{divf .received .transmitted | mulf 100 | sub 100 }}\"\n| logfmt \n| unwrap pct\n| __error__!=\"SampleExtractionErr\"\n[$interval]\n)) by (target)\n\n", "legendFormat": "{{target}}", "queryType": "range", "refId": "A"}], "title": "Packet Loss by Host - Internal Host ($interval interval)", "type": "timeseries"}], "refresh": "5s", "schemaVersion": 37, "style": "dark", "tags": [], "templating": {"list": [{"auto": false, "auto_count": 30, "auto_min": "10s", "current": {"selected": false, "text": "10s", "value": "10s"}, "hide": 0, "name": "interval", "options": [{"selected": true, "text": "10s", "value": "10s"}, {"selected": false, "text": "30s", "value": "30s"}, {"selected": false, "text": "1m", "value": "1m"}, {"selected": false, "text": "5m", "value": "5m"}, {"selected": false, "text": "15m", "value": "15m"}, {"selected": false, "text": "30m", "value": "30m"}, {"selected": false, "text": "1h", "value": "1h"}, {"selected": false, "text": "6h", "value": "6h"}, {"selected": false, "text": "12h", "value": "12h"}, {"selected": false, "text": "1d", "value": "1d"}, {"selected": false, "text": "7d", "value": "7d"}, {"selected": false, "text": "14d", "value": "14d"}, {"selected": false, "text": "30d", "value": "30d"}], "query": "10s,30s,1m,5m,15m,30m,1h,6h,12h,1d,7d,14d,30d", "queryValue": "", "refresh": 2, "skipUrlSync": false, "type": "interval"}]}, "time": {"from": "now-5m", "to": "now"}, "timepicker": {"refresh_intervals": ["5s", "10s", "30s", "1m", "5m", "15m", "30m", "1h", "2h", "1d"]}, "timezone": "", "title": "Ping Results - Internal vs External", "uid": "KfLZ8yvVk", "version": 10, "weekStart": ""}, {"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "editable": true, "gnetId": null, "graphTooltip": 0, "id": 6, "iteration": 1633312938084, "links": [{"asDropdown": false, "icon": "external link", "includeVars": false, "keepTime": false, "tags": [], "targetBlank": true, "title": "Grafana Playground GitHub Page", "tooltip": "", "type": "link", "url": "https://github.com/dmuth/grafana-playground"}], "panels": [{"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 0}, "id": 2, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "increase(promtail_read_bytes_total{job=\"promtail\"}[$interval])", "interval": "", "legendFormat": "{{path}}", "refId": "A"}], "title": "Read Bytes Total", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 0}, "id": 3, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "increase(promtail_read_lines_total{job=\"promtail\"}[$interval])", "interval": "", "legendFormat": "{{path}}", "refId": "A"}], "title": "Read Lines Total", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 9}, "id": 4, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "promtail_files_active_total{job=\"promtail\"}", "interval": "", "legendFormat": "", "refId": "A"}], "title": "Files Active Total", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 9}, "id": 5, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "increase(promtail_sent_bytes_total{job=\"promtail\"}[$interval])", "interval": "", "legendFormat": "", "refId": "A"}], "title": "Sent Bytes Total", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 9, "w": 24, "x": 0, "y": 18}, "id": 6, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "increase(promtail_sent_entries_total{job=\"promtail\"}[$interval])", "interval": "", "legendFormat": "{{job}}", "refId": "A"}], "title": "Sent Entries Total", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 9, "w": 12, "x": 0, "y": 27}, "id": 7, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "promtail_dropped_bytes_total{job=\"promtail\"}", "interval": "", "legendFormat": "{{job}}", "refId": "A"}], "title": "Dropped Bytes Total", "type": "timeseries"}, {"datasource": "Prometheus", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "barAlignment": 0, "drawStyle": "line", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "none"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}}, "overrides": []}, "gridPos": {"h": 9, "w": 12, "x": 12, "y": 27}, "id": 8, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"exemplar": true, "expr": "promtail_dropped_entries_total{job=\"promtail\"}", "interval": "", "legendFormat": "{{job}}", "refId": "A"}], "title": "Dropped Bytes Total", "type": "timeseries"}], "refresh": "5s", "schemaVersion": 30, "style": "dark", "tags": [], "templating": {"list": [{"auto": false, "auto_count": 30, "auto_min": "10s", "current": {"selected": false, "text": "1m", "value": "1m"}, "description": null, "error": null, "hide": 0, "label": null, "name": "interval", "options": [{"selected": true, "text": "1m", "value": "1m"}, {"selected": false, "text": "5m", "value": "5m"}, {"selected": false, "text": "10m", "value": "10m"}, {"selected": false, "text": "15m", "value": "15m"}, {"selected": false, "text": "30m", "value": "30m"}, {"selected": false, "text": "1h", "value": "1h"}, {"selected": false, "text": "6h", "value": "6h"}, {"selected": false, "text": "12h", "value": "12h"}, {"selected": false, "text": "1d", "value": "1d"}, {"selected": false, "text": "7d", "value": "7d"}, {"selected": false, "text": "14d", "value": "14d"}, {"selected": false, "text": "30d", "value": "30d"}], "query": "1m,5m,10m,15m,30m,1h,6h,12h,1d,7d,14d,30d", "queryValue": "", "refresh": 2, "skipUrlSync": false, "type": "interval"}]}, "time": {"from": "now-5m", "to": "now"}, "timepicker": {}, "timezone": "", "title": "Promtail Stats", "uid": "Xp2dJmH7k", "version": 5}, {"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "editable": true, "gnetId": null, "graphTooltip": 0, "id": 7, "iteration": 1635197998590, "links": [{"asDropdown": false, "icon": "external link", "includeVars": false, "keepTime": false, "tags": [], "targetBlank": true, "title": "Grafana Playground GitHub Page", "tooltip": "", "type": "link", "url": "Grafana Playground GitHub Page"}], "panels": [{"datasource": null, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "axisSoftMin": 0, "barAlignment": 0, "drawStyle": "bars", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "normal"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "min": 0, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "m"}, "overrides": []}, "gridPos": {"h": 11, "w": 24, "x": 0, "y": 0}, "id": 4, "options": {"legend": {"calcs": ["lastNotNull", "last", "min", "max", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"expr": "count by (line)\n(\ncount by (line, trainno)\n(\ncount_over_time(\n{job=\"logs-septa\", line=~\"$line\"} | json [$interval]\n)\n)\n)", "legendFormat": "{{line}}", "refId": "A"}], "title": "Number of Trains by Line", "type": "timeseries"}, {"datasource": null, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "axisSoftMin": 0, "barAlignment": 0, "drawStyle": "bars", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "normal"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "min": 0, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 80}]}, "unit": "m"}, "overrides": []}, "gridPos": {"h": 11, "w": 24, "x": 0, "y": 11}, "id": 2, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"expr": "avg(avg_over_time(\n{job=\"logs-septa\", line=~\"$line\"} \n| json\n| unwrap late\n[$interval]\n)) by (line)", "legendFormat": "{{line}}", "refId": "A"}], "title": "Minutes Late by Line ($line)", "type": "timeseries"}, {"datasource": null, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "axisSoftMin": 0, "barAlignment": 0, "drawStyle": "bars", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"type": "linear"}, "showPoints": "auto", "spanNulls": false, "stacking": {"group": "A", "mode": "normal"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "m"}, "overrides": []}, "gridPos": {"h": 11, "w": 24, "x": 0, "y": 22}, "id": 3, "options": {"legend": {"calcs": ["last", "lastNotNull", "min", "max", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "targets": [{"expr": "topk(10, \navg(avg_over_time(\n{job=\"logs-septa\", line=~\"$line\"} \n| json\n| unwrap late\n[$interval]\n)) by (trainno)\n)", "legendFormat": "Train # {{trainno}}", "refId": "A"}], "title": "Top 10 Latest Trains ($line)", "type": "timeseries"}], "refresh": "5s", "schemaVersion": 30, "style": "dark", "tags": [], "templating": {"list": [{"allValue": ".*", "current": {"selected": false, "text": "All", "value": "$__all"}, "datasource": null, "definition": "label_values(line)", "description": "Regional Rail Line:", "error": null, "hide": 0, "includeAll": true, "label": "Line: ", "multi": false, "name": "line", "options": [], "query": "label_values(line)", "refresh": 1, "regex": "", "skipUrlSync": false, "sort": 1, "type": "query"}, {"auto": false, "auto_count": 30, "auto_min": "10s", "current": {"selected": false, "text": "5m", "value": "5m"}, "description": null, "error": null, "hide": 0, "label": null, "name": "interval", "options": [{"selected": false, "text": "1m", "value": "1m"}, {"selected": true, "text": "5m", "value": "5m"}, {"selected": false, "text": "15m", "value": "15m"}, {"selected": false, "text": "30m", "value": "30m"}, {"selected": false, "text": "1h", "value": "1h"}, {"selected": false, "text": "6h", "value": "6h"}, {"selected": false, "text": "12h", "value": "12h"}, {"selected": false, "text": "1d", "value": "1d"}, {"selected": false, "text": "7d", "value": "7d"}, {"selected": false, "text": "14d", "value": "14d"}, {"selected": false, "text": "30d", "value": "30d"}], "query": "1m,5m,15m,30m,1h,6h,12h,1d,7d,14d,30d", "queryValue": "", "refresh": 2, "skipUrlSync": false, "type": "interval"}]}, "time": {"from": "now-1h", "to": "now"}, "timepicker": {}, "timezone": "", "title": "SEPTA Regional Rail", "uid": "U2n119O7z", "version": 4}, {"annotations": {"list": [{"builtIn": 1, "datasource": "-- Grafana --", "enable": true, "hide": true, "iconColor": "rgba(0, 211, 255, 1)", "name": "Annotations & Alerts", "target": {"limit": 100, "matchAny": false, "tags": [], "type": "dashboard"}, "type": "dashboard"}]}, "editable": true, "gnetId": null, "graphTooltip": 0, "id": 8, "iteration": 1633312938748, "links": [{"asDropdown": false, "icon": "external link", "includeVars": false, "keepTime": false, "tags": [], "targetBlank": true, "title": "Grafana Playground GitHub Page", "tooltip": "", "type": "link", "url": "https://github.com/dmuth/grafana-playground"}], "panels": [{"collapsed": false, "datasource": null, "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0}, "id": 4, "panels": [], "title": "Main", "type": "row"}, {"datasource": null, "description": "", "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"axisLabel": "", "axisPlacement": "auto", "axisSoftMin": 0, "barAlignment": 0, "drawStyle": "bars", "fillOpacity": 0, "gradientMode": "none", "hideFrom": {"legend": false, "tooltip": false, "viz": false}, "lineInterpolation": "linear", "lineStyle": {"fill": "solid"}, "lineWidth": 1, "pointSize": 5, "scaleDistribution": {"log": 10, "type": "log"}, "showPoints": "auto", "spanNulls": true, "stacking": {"group": "A", "mode": "normal"}, "thresholdsStyle": {"mode": "off"}}, "mappings": [], "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}}, "overrides": []}, "gridPos": {"h": 12, "w": 24, "x": 0, "y": 1}, "id": 10, "interval": null, "maxDataPoints": 1000000, "options": {"legend": {"calcs": ["last", "lastNotNull", "mean"], "displayMode": "table", "placement": "bottom"}, "tooltip": {"mode": "single"}}, "pluginVersion": "8.1.2", "targets": [{"expr": "sum(count_over_time({host!=\"docker-desktop\",filename=~\"/.*\"}[$interval])) by (filename)", "legendFormat": "{{filename}}", "refId": "A"}], "title": "Volume by file ($interval interval)", "type": "timeseries"}, {"datasource": null, "gridPos": {"h": 5, "w": 24, "x": 0, "y": 13}, "id": 6, "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": false, "showTime": false, "sortOrder": "Descending", "wrapLogMessage": false}, "pluginVersion": "8.1.2", "targets": [{"expr": "{host!=\"docker-desktop\",filename=\"/logs/synthetic/synthetic.log\"}", "maxLines": 5, "refId": "A"}], "title": "5 Most Recent Synthetic Log Entries", "type": "logs"}, {"datasource": null, "description": "This will be empty if you are running on a Mac, as syslog can't be ingested from Docker.  In that case, you'll need to run Promtail locally, as outlined in the README for this project.", "gridPos": {"h": 10, "w": 24, "x": 0, "y": 18}, "id": 11, "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": false, "showTime": false, "sortOrder": "Descending", "wrapLogMessage": true}, "pluginVersion": "8.1.2", "targets": [{"expr": "{host!=\"docker-desktop\",filename=\"/var/log/system.log\"}", "maxLines": 100, "refId": "A"}], "title": "100 Most Recent System Log Entries", "type": "logs"}, {"datasource": null, "gridPos": {"h": 10, "w": 24, "x": 0, "y": 28}, "id": 7, "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": false, "showTime": false, "sortOrder": "Descending", "wrapLogMessage": true}, "pluginVersion": "8.1.2", "targets": [{"expr": "{host!=\"docker-desktop\",filename=~\"/.*\"}", "maxLines": 100, "refId": "A"}], "title": "100 Most Recent Log Entries", "type": "logs"}], "refresh": "5s", "schemaVersion": 30, "style": "dark", "tags": [], "templating": {"list": [{"auto": false, "auto_count": 30, "auto_min": "10s", "current": {"selected": false, "text": "1m", "value": "1m"}, "description": null, "error": null, "hide": 0, "label": null, "name": "interval", "options": [{"selected": false, "text": "10s", "value": "10s"}, {"selected": false, "text": "30s", "value": "30s"}, {"selected": true, "text": "1m", "value": "1m"}, {"selected": false, "text": "10m", "value": "10m"}, {"selected": false, "text": "30m", "value": "30m"}, {"selected": false, "text": "1h", "value": "1h"}, {"selected": false, "text": "6h", "value": "6h"}, {"selected": false, "text": "12h", "value": "12h"}, {"selected": false, "text": "1d", "value": "1d"}, {"selected": false, "text": "7d", "value": "7d"}, {"selected": false, "text": "14d", "value": "14d"}, {"selected": false, "text": "30d", "value": "30d"}], "query": "10s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d", "queryValue": "", "refresh": 2, "skipUrlSync": false, "type": "interval"}]}, "time": {"from": "now-15m", "to": "now"}, "timepicker": {}, "timezone": "", "title": "Syslog Volume", "uid": "fponVrV7z", "version": 4}], "meta": {"app": "Grafana Playground"}}
